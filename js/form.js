$(".telegram-form").on("submit",(function(e){e.stopPropagation(),e.preventDefault();let t=this,a=($(".submit",t),new FormData),n=$("input[type=file]");return $(".submit",t).val("Отправка..."),$("input, textarea",t).attr("disabled",""),a.append("name",$('[name="name"]',t).val()),a.append("phone",$('[name="phone"]',t).val()),a.append("email",$('[name="email"]',t).val()),a.append("text",$('[name="text"]',t).val()),a.append("file",$('[name="file"]',t).val()),n.each((function(e,t){let n=t.files;n&&$.each(n,(function(e,t){a.append(e,t)}))})),$.ajax({url:"ajax.php",type:"POST",data:a,cache:!1,dataType:"json",processData:!1,contentType:!1,xhr:function(){let e=$.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){let a=e.loaded/e.total*100;a=a.toFixed(0),$(".submit",t).html(a+"%")}}),!1),e},error:function(e,t){},complete:function(){console.log("Complete"),t.reset()}}),!1}));